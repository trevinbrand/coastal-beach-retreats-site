---
/**
 * FILE: src/pages/properties/destin-dreams/index.astro
 * Layout matches Heavenly Hideaway page:
 * - Photo collage at top (1 big left, 4 small right)
 * - Section nav row
 * - Below that: LEFT column = size + amenities lines + spaced description
 * - RIGHT column = OwnerRez Booking/Inquiry widget (sticky on desktop)
 * - Availability calendar at the bottom (Multiple Month Calendar widget)
 *
 * âœ… CHANGE:
 * - Photos now use d1.jpeg ... d21.jpeg in /public/images/props/destin-dreams/
 * - Clicking any collage photo (or PHOTOS tab) now goes to:
 *   /properties/destin-dreams/photos/
 *
 * âœ… CHANGE (OwnerRez widgets updated):
 * - Booking/Inquiry widget (right column) uses:
 *   propertyId=38c38f783fe14bc8aea041d24552e0bb
 *   widgetId=a23513547a9348c1b4b249aa2587f052
 * - Reviews widget uses:
 *   propertyId=38c38f783fe14bc8aea041d24552e0bb
 *   widgetId=a169586fbbb54c64ad88f9125a3d428a
 * - Multiple Month Calendar widget (bottom) uses:
 *   propertyId=38c38f783fe14bc8aea041d24552e0bb
 *   widgetId=d583f4999c3f487eb9e7036f05e66d5a
 *
 * NOTE:
 * - widget.js is loaded ONCE at the bottom (avoid duplicates).
 */
import "../../../styles/global.css";
import SiteHeader from "../../../components/SiteHeader.astro";
import SiteFooter from "../../../components/SiteFooter.astro";

// âœ… Photo setup (d1.jpeg ... d21.jpeg)
const PHOTO_COUNT = 21;

// âœ… Folder where images live in /public
const PHOTO_BASE = "/images/props/destin-dreams";

// âœ… Where the separate photos page lives:
const PHOTOS_PAGE_HREF = "/properties/destin-dreams/photos/";

// âœ… Precompute strings used in attributes
const photosCountAria = `${PHOTO_COUNT} photos`;

// Build full list (still used to create the collage preview)
const galleryPhotos = Array.from({ length: PHOTO_COUNT }, (_, i) => {
  const n = i + 1;
  return {
    src: `${PHOTO_BASE}/d${n}.jpeg`,
    alt: `Destin Dreams photo ${n}`,
  };
});

// Collage uses first 5
const photosTop = galleryPhotos.slice(0, 5);

const pageTitle = "Destin Dreams @ Sterling Shores 311 Destin, FL";
const subtitle = "Peekaboo Gulf views + lagoon pool + private beach access.";

// These show ABOVE the description like your screenshot
const sizeLine = "1 Bedroom â€¢ 1 Bathroom â€¢ Sleeps 1-4";
const amenitiesLine = ["Internet", "Ocean View", "Hot Tub"];

// âœ… OwnerRez (Destin Dreams @ Sterling Shores 311)
const OR_PROPERTY_ID = "38c38f783fe14bc8aea041d24552e0bb";
const OR_BOOKING_WIDGET_ID = "a23513547a9348c1b4b249aa2587f052";
const OR_REVIEWS_WIDGET_ID = "a169586fbbb54c64ad88f9125a3d428a";
const OR_CALENDAR_WIDGET_ID = "d583f4999c3f487eb9e7036f05e66d5a";
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>{pageTitle} | Coastal Beach Retreats</title>
    <meta
      name="description"
      content="Destin Dreams at Sterling Shores 311 â€” photos, details, and booking."
    />
  </head>

  <body>
    <SiteHeader phone="(918) 734-3331" />

    <main class="wrap">
      <header class="titlebar">
        <h1 class="h1">{pageTitle}</h1>
        <p class="sub">{subtitle}</p>
      </header>

      <!-- PHOTO COLLAGE (links to separate photos page) -->
      <section class="collage" id="photos" aria-label="Photo preview">
        <!-- BIG LEFT -->
        <a class="big" href={PHOTOS_PAGE_HREF} aria-label="View all photos">
          <img src={photosTop[0].src} alt={photosTop[0].alt} loading="eager" />
        </a>

        <!-- RIGHT GRID -->
        <div class="smallGrid">
          <a class="small" href={PHOTOS_PAGE_HREF} aria-label="View all photos">
            <img src={photosTop[1].src} alt={photosTop[1].alt} loading="lazy" />
          </a>

          <a class="small" href={PHOTOS_PAGE_HREF} aria-label="View all photos">
            <img src={photosTop[2].src} alt={photosTop[2].alt} loading="lazy" />
          </a>

          <a class="small" href={PHOTOS_PAGE_HREF} aria-label="View all photos">
            <img src={photosTop[3].src} alt={photosTop[3].alt} loading="lazy" />
          </a>

          <!-- LAST TILE WITH PHOTO COUNT BADGE -->
          <a class="small last" href={PHOTOS_PAGE_HREF} aria-label="View all photos">
            <img src={photosTop[4].src} alt={photosTop[4].alt} loading="lazy" />
            <span class="countBadge" aria-label={photosCountAria}>
              <span class="cam" aria-hidden="true">ðŸ“·</span>
              {PHOTO_COUNT}
            </span>
          </a>
        </div>
      </section>

      <!-- SECTION NAV ROW -->
      <nav class="subnav" aria-label="Page sections">
        <a href={PHOTOS_PAGE_HREF}>PHOTOS</a>
        <a href="#details">DETAILS</a>
        <a href="#availability">AVAILABILITY</a>
        <a href="#location">LOCATION</a>
        <a href="#amenities">AMENITIES</a>
        <a href="#reviews">REVIEWS</a>
      </nav>

      <!-- DETAILS + BOOKING WIDGET -->
      <section class="below" id="details" aria-label="Details and booking">
        <!-- LEFT -->
        <div class="desc">
          <div class="metaLine">
            <span class="metaLabel">Size â€“</span>
            <span>{sizeLine}</span>
          </div>

          <div class="metaLine">
            <span class="metaLabel">Amenities â€“</span>
            <span class="amenInline">
              {amenitiesLine.map((a, i) => (
                <span class="amenItem">
                  <span class="chip">{a}</span>
                  {i < amenitiesLine.length - 1 ? <span class="dot">â€¢</span> : null}
                </span>
              ))}
              <a class="more" href="#amenities">(more...)</a>
            </span>
          </div>

          <!-- DESCRIPTION (UPDATED with your formatted website copy) -->
          <div class="longDesc">
            <h2 class="h2" style="margin-top: 0;">Important Notice</h2>
            <p>
              Take advantage of <strong>special adjusted rates</strong> during Sterling Shoresâ€™ temporary property enhancementsâ€”
              still the same great beach experience, now at an even better value!
            </p>

            <p>
              Sterling Shores is currently undergoing a beautification project focused on enhancing all balconies and walkways.
              Renovations are taking place <strong>Monday through Friday and some Saturdays, from 9:00 AM to 5:00 PM</strong>.
              Guests may notice construction activity and occasional dust during work hours. We appreciate your understanding
              as we work to improve the property.
            </p>

            <hr style="border:0;border-top:1px solid rgba(0,0,0,.12);margin:16px 0;" />

            <h2 class="h2" style="margin: 0 0 10px;">Your Perfect Gulf Escape at Sterling Shores Resort</h2>

            <p>
              Step into luxury and relaxation at this sleek and stylish <strong>third-floor</strong> condo in Sterling Shores Resort,
              your ultimate home away from home. From the moment you arrive, let the stress melt away as you take in the
              breathtaking Gulf views from your kitchen and private balcony.
            </p>

            <p>
              This beautifully appointed retreat features a fully equipped kitchen with modern appliances, perfect for preparing meals
              before heading out for a day of sun and adventure. No need to pack extraâ€”your stay includes beach gear like
              <strong>two backpack beach chairs</strong>, a <strong>beach umbrella</strong>, <strong>four beach towels</strong>, and a
              <strong>Tommy Bahama shoulder cooler</strong> to take along on your adventures.
            </p>

            <p>
              Unwind in the spacious bedroom with a plush <strong>king-size bed</strong>, designed for restful nights after days in the sun.
              The living room offers the perfect setup for movie nights or relaxing indoors, complete with a
              <strong>75-inch smart TV</strong> for immersive entertainment.
            </p>

            <p>
              For added peace of mind, this property is equipped with a camera mounted to the right of the front door,
              monitoring and recording activity outside of the entrance only.
            </p>

            <p>
              Sterling Shores Resort offers an array of upscale amenities, including a <strong>lagoon-style pool</strong>, <strong>private beach</strong>,
              a <strong>beachside pool</strong>, a <strong>state-of-the-art fitness center</strong>, and a <strong>scenic grilling area</strong>.
              During the warmer months, treat yourself to a refreshing snack at the <strong>seasonal poolside bar</strong>â€”all just steps from the
              pristine shoreline.
            </p>

            <h2 class="h2" style="margin: 18px 0 10px;">Unbeatable Location</h2>
            <p>
              Centrally located just off <strong>Highway 98</strong>, this condo puts you within walking distance of some of Destinâ€™s best dining spots,
              including <strong>Ruth's Chris Steak House</strong> and the famous <strong>Back Porch Seafood &amp; Oyster House</strong>.
              When youâ€™re ready to explore, youâ€™ll find plenty of nearby attractions:
            </p>

            <ul style="margin: 10px 0 14px; padding-left: 20px; line-height: 1.8;">
              <li><strong>The Track</strong> â€“ Family fun with go-karts, mini-golf, and more</li>
              <li><strong>Big Kahunaâ€™s Water &amp; Adventure Park</strong> â€“ A thrilling day for all ages</li>
              <li><strong>Henderson Beach State Park</strong> â€“ Miles of scenic trails and sugar-white sands</li>
              <li><strong>Indian Bayou Golf &amp; Country Club</strong> â€“ A premier golfing destination</li>
            </ul>

            <p>
              Need to stock up on essentials? Youâ€™re just minutes from <strong>Target</strong>, <strong>Whole Foods</strong>, and <strong>Walmart</strong>
              for all your shopping needs.
            </p>

            <h2 class="h2" style="margin: 18px 0 10px;">Additional Details</h2>
            <ul style="margin: 10px 0 14px; padding-left: 0; list-style: none; line-height: 1.9;">
              <li>âœ” Free WiFi</li>
              <li>âœ” Full kitchen with modern appliances</li>
              <li>âœ” On-site free parking</li>
              <li>âœ” Non-smoking property</li>
              <li>âœ” No pets are allowed at this vacation rental</li>
              <li>âœ” 3rd-floor unit with easy access</li>
              <li>âœ” Must be 25+ to rent</li>
            </ul>

            <p>
              Whether you're seeking a romantic getaway, a family beach retreat, or a relaxing escape with friends, this Sterling Shores condo offers
              the perfect blend of comfort, convenience, and coastal luxury. <strong>Book your stay today!</strong>
            </p>

            <p>
              Primary renter must be at least 25 years old, sign a rental agreement within 48 hours of booking,
              be present for the duration of the stay, and agree to a $200 damage hold placed on a debit/credit card
              in the renter&apos;s name. No smoking or parties allowed. We provide starter amounts of soaps and paper products
              (toilet paper, paper towels, trash bags). Please plan to bring/buy additional if your stay is longer than a couple of days.
            </p>
          </div>
        </div>

        <!-- RIGHT: booking widget -->
        <aside class="book">
          <div class="bookInner">
            <!-- OwnerRez Booking/Inquiry widget for Destin Dreams @ Sterling Shores 311 Destin, FL -->
            <div
              class="ownerrez-widget"
              data-propertyId="38c38f783fe14bc8aea041d24552e0bb"
              data-widget-type="Booking/Inquiry"
              data-widgetId="a23513547a9348c1b4b249aa2587f052"
            ></div>
          </div>
        </aside>
      </section>

      <!-- LOCATION -->
      <section id="location" class="card">
        <h2 class="h2">Location</h2>
        <p>
          Sterling Shores Resort â€¢ Destin, FL<br />
          1751 Scenic Hwy 98, Destin, FL 32541
        </p>

        <div class="mapWrap" aria-label="Map">
          <iframe
            title="Map: Sterling Shores Resort, Destin, FL"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            allowfullscreen
            src="https://www.google.com/maps?q=Sterling%20Shores%20Resort%201751%20Scenic%20Hwy%2098%20Destin%20FL%2032541&z=16&output=embed"
          ></iframe>

          <a
            class="mapLink"
            href="https://www.google.com/maps/search/?api=1&query=Sterling%20Shores%20Resort%201751%20Scenic%20Hwy%2098%20Destin%20FL%2032541"
            target="_blank"
            rel="noopener"
          >
            View on Google Maps â†’
          </a>
        </div>
      </section>

      <!-- AMENITIES -->
      <section id="amenities" class="card">
        <h2 class="h2">Amenities</h2>

        <div class="amenities-table">
          <div class="amen-row">
            <div class="amen-label">Property Type</div>
            <div class="amen-value">Condo</div>
          </div>

          <div class="amen-row">
            <div class="amen-label">Resort</div>
            <div class="amen-value">Sterling Shores Resort</div>
          </div>

          <div class="amen-row">
            <div class="amen-label">General</div>
            <div class="amen-value columns">
              <span>Internet / WiFi</span>
              <span>Air Conditioning</span>
              <span>Linens &amp; Towels</span>
              <span>Washer/Dryer</span>
            </div>
          </div>

          <div class="amen-row">
            <div class="amen-label">Kitchen</div>
            <div class="amen-value columns">
              <span>Refrigerator</span>
              <span>Oven/Stove</span>
              <span>Microwave</span>
              <span>Dishwasher</span>
            </div>
          </div>

          <div class="amen-row">
            <div class="amen-label">Pool &amp; Spa</div>
            <div class="amen-value columns">
              <span>Lagoon Pool</span>
              <span>Hot Tub</span>
              <span>Seasonal Pool Bar</span>
            </div>
          </div>

          <div class="amen-row">
            <div class="amen-label">Outdoor</div>
            <div class="amen-value columns">
              <span>Private Beach Access</span>
              <span>Balcony</span>
              <span>Outdoor Seating</span>
            </div>
          </div>
        </div>
      </section>

      <!-- REVIEWS -->
      <section id="reviews" class="card">
        <h2 class="h2">Reviews</h2>

        <!-- OwnerRez Reviews widget for Destin Dreams @ Sterling Shores 311 Destin, FL -->
        <div
          class="ownerrez-widget"
          data-propertyId="38c38f783fe14bc8aea041d24552e0bb"
          data-widget-type="Reviews"
          data-widgetId="a169586fbbb54c64ad88f9125a3d428a"
        ></div>
      </section>

      <!-- AVAILABILITY -->
      <section id="availability" class="card">
        <h2 class="h2">Availability</h2>

        <!-- OwnerRez Multiple Month Calendar widget for Destin Dreams @ Sterling Shores 311 Destin, FL -->
        <div
          class="ownerrez-widget"
          data-propertyId="38c38f783fe14bc8aea041d24552e0bb"
          data-widget-type="Multiple Month Calendar"
          data-widgetId="d583f4999c3f487eb9e7036f05e66d5a"
        ></div>
      </section>
    </main>

    <SiteFooter phone="(918) 734-3331" email="coastalbeachretreats@gmail.com" />

    <!-- âœ… Load OwnerRez widget script ONCE -->
    <script is:inline src="https://app.ownerrez.com/widget.js"></script>

    <style>
      .wrap {
        max-width: 1440px;
        margin: 0 auto;
        padding: 12px 10px;
      }

      .titlebar { margin: 10px 0 14px; }
      .h1 {
        margin: 0 0 6px;
        font-size: 34px;
        line-height: 1.1;
        color: var(--brand-blue, #193e7f);
      }
      .sub { margin: 0; opacity: .85; }

      /* Collage */
      .collage {
        display: grid;
        grid-template-columns: 1.55fr 1fr;
        gap: 2px;
        margin: 14px 0 12px;
      }

      .big, .small {
        display: block;
        border-radius: 0;
        overflow: hidden;
        border: 1px solid rgba(0,0,0,.12);
        background: rgba(0,0,0,.04);
        text-decoration: none;
        position: relative;
      }

      .big img {
        width: 100%;
        height: 420px;
        object-fit: cover;
        display: block;
      }

      .smallGrid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2px;
      }

      .small img {
        width: 100%;
        height: 205px;
        object-fit: cover;
        display: block;
      }

      .countBadge {
        position: absolute;
        right: 10px;
        bottom: 10px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 8px 10px;
        border-radius: 12px;
        background: rgba(0,0,0,.55);
        color: #fff;
        font-weight: 800;
        border: 1px solid rgba(255,255,255,.18);
        backdrop-filter: blur(6px);
      }
      .cam { font-size: 16px; }

      /* subnav row */
      .subnav {
        display: flex;
        gap: 22px;
        align-items: center;
        padding: 14px 4px 8px;
        border-bottom: 1px solid rgba(0,0,0,.10);
        margin-bottom: 14px;
        flex-wrap: wrap;
      }
      .subnav a {
        text-decoration: none;
        font-weight: 800;
        letter-spacing: .08em;
        font-size: 14px;
        color: rgba(25,62,127,.75);
      }
      .subnav a:hover { color: var(--brand-blue, #193e7f); }

      /* description + widget area */
      .below {
        display: grid;
        grid-template-columns: 1.6fr 1fr;
        gap: 22px;
        align-items: start;
        margin: 8px 0 18px;
      }

      .desc { padding-right: 6px; }

      .metaLine {
        display: flex;
        align-items: baseline;
        gap: 10px;
        margin: 10px 0;
        font-size: 20px;
        line-height: 1.25;
      }

      .metaLabel {
        font-family: var(--font-heading, "Dancing Script", cursive);
        color: var(--accent-teal, #058789);
        font-weight: 700;
        font-size: 24px;
        white-space: nowrap;
      }

      .amenInline {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        flex-wrap: wrap;
      }

      .amenItem {
        display: inline-flex;
        align-items: center;
        gap: 10px;
      }

      .chip { font-weight: 600; }
      .dot { opacity: .55; }

      .more {
        text-decoration: none;
        font-weight: 700;
        color: rgba(25,62,127,.75);
      }
      .more:hover { color: var(--brand-blue, #193e7f); }

      .longDesc p {
        font-size: 16px;
        line-height: 1.75;
        margin: 14px 0;
      }

      /* Make headings inside longDesc match your site style nicely */
      .longDesc .h2 {
        text-align: left;
      }

      .bookInner {
        position: sticky;
        top: 92px;
        border: 1px solid rgba(0,0,0,.12);
        border-radius: 16px;
        padding: 14px;
        background: #fff;
        box-shadow: 0 6px 18px rgba(0,0,0,.06);
      }

      /* section cards */
      .card {
        border: 1px solid rgba(0,0,0,.12);
        border-radius: 16px;
        padding: 14px;
        background: #fff;
        box-shadow: 0 6px 18px rgba(0,0,0,.06);
        margin-bottom: 14px;
      }

      .h2 {
        margin: 0 0 10px;
        font-size: 24px;
        color: var(--brand-blue, #193e7f);
      }

      /* map */
      .mapWrap {
        margin-top: 12px;
        border-radius: 14px;
        overflow: hidden;
        border: 1px solid rgba(0,0,0,.12);
        background: #fff;
      }
      .mapWrap iframe {
        width: 100%;
        height: 360px;
        border: 0;
        display: block;
      }
      .mapLink {
        display: block;
        padding: 10px 12px;
        text-align: right;
        font-weight: 800;
        text-decoration: none;
        color: rgba(25,62,127,.85);
      }
      .mapLink:hover { color: var(--brand-blue, #193e7f); }

      /* amenities table */
      .amenities-table {
        margin-top: 8px;
        border-radius: 14px;
        overflow: hidden;
        border: 1px solid rgba(0,0,0,.10);
        background: #fff;
      }

      .amen-row {
        display: grid;
        grid-template-columns: 240px 1fr;
        gap: 18px;
        padding: 18px 18px;
        border-top: 1px solid rgba(0,0,0,.08);
      }
      .amen-row:first-child { border-top: 0; }

      .amen-label { font-weight: 800; color: #111; }
      .amen-value { color: #111; }

      .amen-value.columns {
        display: grid;
        grid-template-columns: repeat(4, minmax(180px, 1fr));
        gap: 8px 18px;
      }

      .amen-value.columns span {
        display: block;
        white-space: normal;
      }

      @media (max-width: 980px) {
        .wrap { padding: 12px 12px; }
        .collage { grid-template-columns: 1fr; }
        .big img { height: 320px; }
        .small img { height: 160px; }
        .below { grid-template-columns: 1fr; }
        .bookInner { position: static; }
        .mapWrap iframe { height: 300px; }

        .amen-row { grid-template-columns: 1fr; }
        .amen-value.columns { grid-template-columns: repeat(2, minmax(160px, 1fr)); }
      }

      @media (max-width: 520px) {
        .amen-value.columns { grid-template-columns: 1fr; }
      }
    </style>
  </body>
</html>
